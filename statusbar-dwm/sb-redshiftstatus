#!/bin/sh

# period="$(redshift -p | awk '$0 ~ "Period" {print $2}')"
temperature="$(redshift -p | awk '$0 ~ "Color temperature" {print $3}')"
period="$(redshift -p | awk '$0 ~ "Period" {print $2}')"

[ $period = "Night" ] && icon="ï††"
[ $period = "Transition" ] && icon="ïƒ«"
[ $period = "Daytime" ] && icon="îŒ"

toggleredshift() {
	pidof redshift >/dev/null && killall redshift || setsid redshift
}

case $BUTTON in
1) notify-send "$(redshift -p)" ;;
2) toggleredshift ;;
# 4)  ;;
# 5)  ;;
3) notify-send "ðŸ’¡ Redshift module" "\- Displays current redshift status
- ðŸŒ™ at night.
- ðŸ’¡ during transition phase.
- â˜€  when it is day time." ;;
6) setsid -f "$TERMINAL" -e "$EDITOR" $0 ;;
esac

pidof redshift >/dev/null && echo "$icon $temperature" || echo " ïƒ« "
